<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlphaBoss - Shop</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Monoton&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="shop.css">
</head>
<body>
    <div class="shop-screen">
        <header class="shop-header">
            <div class="shop-title-sign"><span class="fast-flicker">S</span>H<span class="flicker">O</span>P</div>
            <p>*IMPROVE YOUR RUN*</p>
        </header>

        <div class="shop-top-bar">
            <button class="shop-btn btn-bag">BAG</button>
            <div class="money-display">
                <span class="money-label">MONEY</span>
                <span class="money-value" id="shopMoney">$4</span>
            </div>
        </div>

        <!-- Glyphs Display Area -->
        <section class="glyphs-section" id="glyphsSection">
            <div class="glyph-slots" id="glyphSlots">
                <!-- Glyphs will be rendered here by JS -->
            </div>
            <div class="glyph-counter" id="glyphCounter">0/5</div>
        </section>

        <main class="shop-main">
            <!-- Items Section -->
            <section class="shop-section">
                <button class="shop-btn btn-reroll">REROLL $5</button>
                <h2 class="section-title">ITEMS</h2>
                <div class="item-grid" id="items-grid">
                    <!-- Items will be rendered here by shop.js -->
                </div>
            </section>

            <!-- Upgrades Section -->
            <section class="shop-section">
                <h2 class="section-title">UPGRADES</h2>
                <div class="item-grid" id="upgrades-grid">
                    <!-- Upgrades will be rendered here by shop.js -->
                </div>
            </section>

            <!-- Grab Bags Section -->
            <section class="shop-section">
                <h2 class="section-title">GRAB BAGS</h2>
                <div class="item-grid" id="grabbags-grid">
                    <!-- Grab Bags will be rendered here by shop.js -->
                </div>
            </section>
        </main>

        <footer class="shop-footer">
            <a href="between-rounds.html" class="shop-btn btn-continue">CONTINUE</a>
        </footer>
    </div>

    <div class="modal-overlay" id="bagModalOverlay">
        <div class="bag-modal">
            <button class="btn-close" id="btnCloseBagModal" aria-label="Close bag view">&times;</button>
            <h2 class="bag-title">BAG</h2>
            <div class="bag-info">
                <span id="tilesRemainingInfo">Tiles remaining: 0</span>
            </div>
            <div class="bag-upgrades">
                <h3 class="bag-section-title">UPGRADES</h3>
                <div class="bag-upgrades-grid" id="bagUpgradesGrid"></div>
            </div>
            <div class="sort-container">
                <span class="sort-label">SORT</span>
                <div class="sort-controls">
                    <button class="sort-btn active" id="sortAZ" data-sort="alpha">A-Z</button>
                    <button class="sort-btn" id="sortType" data-sort="type">TYPE</button>
                    <button class="sort-btn" id="sortValue" data-sort="value">VALUE</button>
                </div>
            </div>
            <div class="bag-grid-container">
                <div class="bag-grid" id="bagGrid"></div>
            </div>
        </div>
    </div>

    <!-- Generic Pack Opening Modal -->
    <div class="modal-overlay" id="packOpenOverlay">
        <div class="pack-open-modal">
            <h2 class="pack-open-title" id="packOpenTitle">Pack Title</h2>
            <p class="pack-open-subtitle" id="packOpenSubtitle">Pack subtitle</p>
            <div class="pack-open-grid" id="packOpenGrid">
                <!-- Items to choose from will be rendered here -->
            </div>
            <div class="pack-open-actions">
                <button class="btn-pack-skip" id="packOpenSkip">SKIP</button>
                <button class="btn-pack-confirm" id="packOpenConfirm" disabled>CONFIRM (0/1)</button>
            </div>
        </div>
    </div>

    <!-- Generic Tooltip Element -->
    <div class="generic-tooltip" id="genericTooltip">
        <h3 class="tooltip-title" id="tooltipTitle">Tooltip Title</h3>
        <p class="tooltip-text" id="tooltipText">Tooltip description goes here.</p>
    </div>

    <!-- New Glyph Action Tooltip -->
    <div class="modal-overlay" id="glyphActionOverlay" style="display: none; background: transparent;">
        <div class="glyph-action-tooltip" id="glyphActionTooltip">
            <div class="sell-info">
                <button class="btn-sell" id="glyphSellBtn">Sell?</button>
                <span class="sell-value" id="glyphSellValue">$0</span>
            </div>
            <div class="glyph-display">
                <div class="glyph-graphic" id="glyphActionGraphic"></div>
            </div>
            <div class="glyph-description-box">
                <h3 class="glyph-name" id="glyphActionName">Glyph Name</h3>
                <p class="glyph-description" id="glyphActionDescription">Description...</p>
                <div class="glyph-rarity" id="glyphActionRarity">Common</div>
            </div>
        </div>
    </div>

    <script src="game-objects.js"></script>
    <script src="definitions.js"></script>
    <script src="tooltips.js"></script>
    <script src="shop.js"></script>
</body>
</html>